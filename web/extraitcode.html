<html>
    <head>

    </head>
    <body>
        <script>
            valeurs = [152,158,164,168,168,169,176]
            //document.write("\nMaximum : ", max(valeurs))
            //document.write("\nMinimum : ", min(valeurs))
            //document.write("\nMoyenne : ", moy(valeurs))
            //document.write("\nVariance : ", variance(valeurs))
            //document.write("\nEcart-type : ", ecart_type(valeurs))


            function max(valeurs)
            {
                return Math.max.apply(Math,valeurs)
            }

            function min(valeurs)
            {
                return Math.min.apply(Math,valeurs)
            }

            function moy(valeurs)
            {
                var somme = 0
                valeurs.forEach(element => {
                    somme += element
                });
                return (somme / valeurs.length).toFixed(3)
            }

            function variance(valeurs)
            {
                var m = moy(valeurs)
                v = 0
                valeurs.forEach(element => {
                    v=v+(element-m)**2
                });

                return(v/valeurs.length)
            }

            function ecart_type(valeurs)
            {
                return Math.sqrt(variance(valeurs))
            }

            //Declaration
            function Capteur(id) {
                this.id = id;
                this.dataset = new Map();
            }
            function Registre() {
                this.capteurs = new Map()
            }
            
            //Create objects
            var registre = new Registre()
            var myCapteur = new Capteur(15)

            //Populate
            var values = [15,20,30,15,48,68,10,2,64,100]
            myCapteur.dataset.set('Temperature', values)
            var values = [15,20,30,15,48,68,10,2,64,100]
            myCapteur.dataset.set('Humidity', values)


            registre.capteurs.set(myCapteur.id,myCapteur)
            document.writeln("<p>Registre : ", registre.capteurs.size,"</p>")
            
            registre.capteurs.forEach(capteur => {
                document.write("<p> Capteur num√©ro : ", capteur.id,"</p>")
                var cles = Array.from(capteur.dataset.keys())
                cles.forEach(cle => {
                    document.write("<p>",cle," -> ", capteur.dataset.get(cle),"</p>")
                });
                
            });
            
            
            




        </script>
    </body>
</html>